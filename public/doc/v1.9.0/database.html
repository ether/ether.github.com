<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Database structure - Etherpad v1.9.0 Manual &amp; Documentation</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body class="apidoc" id="api-section-database">
  <header id="header">
    <h1>Etherpad v1.9.0 Manual &amp; Documentation</h1>
  </header>

  <div id="toc">
    <h2>Table of Contents</h2>
    <ul>
<li><a href="#database_database-structure">Database structure</a><ul>
<li><a href="#database_keys-and-their-values">Keys and their values</a><ul>
<li><a href="#database_groups">groups</a></li>
<li><a href="#database_padpadid">pad:$PADID</a></li>
<li><a href="#database_padpadidrevsrevnum">pad:$PADID:revs:$REVNUM</a></li>
<li><a href="#database_padpadidchatchatnum">pad:$PADID:chat:$CHATNUM</a></li>
<li><a href="#database_pad2readonlypadid">pad2readonly:$PADID</a></li>
<li><a href="#database_readonly2padreadonlyid">readonly2pad:$READONLYID</a></li>
<li><a href="#database_token2authortokenid">token2author:$TOKENID</a></li>
<li><a href="#database_globalauthorauthorid">globalAuthor:$AUTHORID</a></li>
<li><a href="#database_mapper2groupmapper">mapper2group:$MAPPER</a></li>
<li><a href="#database_mapper2authormapper">mapper2author:$MAPPER</a></li>
<li><a href="#database_groupgroupid">group:$GROUPID</a></li>
<li><a href="#database_sessionsessionid">session:$SESSIONID</a></li>
<li><a href="#database_author2sessionsauthorid">author2sessions:$AUTHORID</a></li>
<li><a href="#database_group2sessionsgroupid">group2sessions:$GROUPID</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

  <div id="apicontent">
    <h1 id="database_database-structure">Database structure</h1>
<h2 id="database_keys-and-their-values">Keys and their values</h2>
<h3 id="database_groups">groups</h3>
<p>A list of all existing groups (a JSON object with groupIDs as keys and <code>1</code> as values).</p>
<h3 id="database_padpadid">pad:$PADID</h3>
<p>Contains all information about pads</p>
<ul>
<li><strong>atext</strong> - the latest attributed text</li>
<li><strong>pool</strong> - the attribute pool</li>
<li><strong>head</strong> - the number of the latest revision</li>
<li><strong>chatHead</strong> - the number of the latest chat entry</li>
<li><strong>public</strong> - flag that disables security for this pad</li>
<li><strong>passwordHash</strong> - string that contains a salted sha512 sum of this pad&#39;s password</li>
</ul>
<h3 id="database_padpadidrevsrevnum">pad:$PADID:revs:$REVNUM</h3>
<p>Saves a revision $REVNUM of pad $PADID</p>
<ul>
<li><strong>meta</strong><ul>
<li><strong>author</strong> - the autorID of this revision</li>
<li><strong>timestamp</strong> - the timestamp of when this revision was created</li>
</ul>
</li>
<li><strong>changeset</strong> - the changeset of this revision</li>
</ul>
<h3 id="database_padpadidchatchatnum">pad:$PADID:chat:$CHATNUM</h3>
<p>Saves a chat entry with num $CHATNUM of pad $PADID</p>
<ul>
<li><strong>text</strong> - the text of this chat entry</li>
<li><strong>userId</strong> - the authorID of this chat entry</li>
<li><strong>time</strong> - the timestamp of this chat entry</li>
</ul>
<h3 id="database_pad2readonlypadid">pad2readonly:$PADID</h3>
<p>Translates a padID to a readonlyID</p>
<h3 id="database_readonly2padreadonlyid">readonly2pad:$READONLYID</h3>
<p>Translates a readonlyID to a padID</p>
<h3 id="database_token2authortokenid">token2author:$TOKENID</h3>
<p>Translates a token to an authorID</p>
<h3 id="database_globalauthorauthorid">globalAuthor:$AUTHORID</h3>
<p>Information about an author</p>
<ul>
<li><strong>name</strong> - the name of this author as shown in the pad</li>
<li><strong>colorID</strong> - the colorID of this author as shown in the pad</li>
</ul>
<h3 id="database_mapper2groupmapper">mapper2group:$MAPPER</h3>
<p>Maps an external application identifier to an internal group</p>
<h3 id="database_mapper2authormapper">mapper2author:$MAPPER</h3>
<p>Maps an external application identifier to an internal author</p>
<h3 id="database_groupgroupid">group:$GROUPID</h3>
<p>a group of pads</p>
<ul>
<li><strong>pads</strong> - object with pad names in it, values are 1</li>
</ul>
<h3 id="database_sessionsessionid">session:$SESSIONID</h3>
<p>a session between an author and a group</p>
<ul>
<li><strong>groupID</strong> - the groupID the session belongs too</li>
<li><strong>authorID</strong> - the authorID the session belongs too</li>
<li><strong>validUntil</strong> - the timestamp until this session is valid</li>
</ul>
<h3 id="database_author2sessionsauthorid">author2sessions:$AUTHORID</h3>
<p>saves the sessions of an author</p>
<ul>
<li><strong>sessionsIDs</strong> - object with sessionIDs in it, values are 1</li>
</ul>
<h3 id="database_group2sessionsgroupid">group2sessions:$GROUPID</h3>
<ul>
<li><strong>sessionsIDs</strong> - object with sessionIDs in it, values are 1</li>
</ul>

  </div>

</body>
</html>

